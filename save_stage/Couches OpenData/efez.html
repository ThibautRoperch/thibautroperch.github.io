<script>

function getXDomainRequest() {
	var xdr = null;
	
	if (window.XDomainRequest) {
		xdr = new XDomainRequest(); 
	} else if (window.XMLHttpRequest) {
		xdr = new XMLHttpRequest(); 
	} else {
		alert("Votre navigateur ne g√®re pas l'AJAX cross-domain !");
	}
	
	return xdr;	
}

var xdr = getXDomainRequest();
xdr.onload = function() {
	alert(xdr.responseText);
}
xdr.onerror = function() {
    alert("Erreur")
    console.log(xdr)
}

// xdr.open("GET", "https://www.html5rocks.com/en/tutorials/cors/");
// xdr.open("GET", "https://api.apientreprise.fr/docs/1.0/apiv1entreprises/show.html");
// xdr.open("GET", "https://societeinfo.com/app/rest/api/v1/querysearch/companies/json?query=big%20data&searchMode=keyword&limit=10&key=DEMO");
// xdr.open("GET", "https://societeinfo.com/app/rest/api/v1/querysearch/companies/json?query=big%20data&searchMode=keyword&limit=10&key=DEMO");
xdr.open("GET", "https://data.opendatasoft.com/api/records/1.0/search/?dataset=sirene%40public&facet=rpet&facet=depet&facet=libcom&facet=siege&facet=libapet&facet=saisonat&facet=libnj&facet=libapen&facet=ess&facet=libtefen&facet=categorie&facet=proden&facet=vmaj1&facet=vmaj2&facet=vmaj3&facet=libtu&facet=liborigine&facet=libtca&facet=libreg_new&facet=nom_dept&facet=section&facet=classe&refine.depet=49&refine.libcom=ANGERS");
xdr.send();

</script>
